<div class="panel panel-default">
  <div class="panel-heading" (click)="show= !show">
    <span [class.down]="!show" [class.up]="show"></span> Global Default Settings
  </div>
  <div class="panel-body" [class.hide]="!show">

    <div class=row>
      <div class=col-xs-5>Widget Type</div>
      <div class=col-xs-7>
        <div class="radio-inline">
          <label>
            <input type="radio" name="type" (change)="refresh(config.global.type = 'h')" [checked]="config.global.type === 'h'" value="h" checked> Hourly
          </label>
        </div>
        <div class="radio-inline">
          <label>
            <input type="radio" name="type" (click)="refresh(config.global.type = 'd')" [checked]="config.global.type === 'd'" value="d" checked> Daily
          </label>
        </div>
      </div>
    </div>

    <div class=row>
      <div class=col-xs-5>Option Visibility</div>
      <div class="checkbox-inline col-xs-7">
        <label>
          <input type=checkbox #u (change)="refresh(config.global.show.value = u.checked)" [checked]=config.global.show.value> Show?
        </label>
      </div>
    </div>

    <div class="form-group form-inline row">
      <div class=col-xs-5>Dot Radius: {{config.global.dot.radius.value}}</div>
      <div class=col-xs-7>
        <input #a (input)="refresh(config.global.dot.radius.value = a.value)" [value]=config.global.dot.radius.value type=range min=1 max=20 step=1 class=form-control>
      </div>
    </div>
    <div class=form-group>
      <color [color]="config.global.dot.color.value" (refreshed)="refresh(config.global.dot.color.value = $event)" [title]="'Dot Color'"></color>
    </div>

    <div class=row>
      <div class=col-xs-5>Segment Visibility</div>
      <div class="checkbox-inline col-xs-7">
        <label>
          <input type=checkbox #t (change)="refresh(config.global.segment.show.value = t.checked)" [checked]=config.global.segment.show.value> Show?
        </label>
      </div>
    </div>

    <div class="form-group row">
      <div class=col-xs-5>Segment Width Angle: {{config.global.segment.angle.value}}</div>
      <div class=col-xs-7><input #b (input)="refresh(config.global.segment.angle.value = b.value)" [value]=config.global.segment.angle.value type=range min=0 max=90 step=1 class=form-control></div>
    </div>
    <div class="form-group row">
      <div class=col-xs-5>Segment Padding: {{config.global.segment.padding.value}}</div>
      <div class=col-xs-7><input #c (input)="refresh(config.global.segment.padding.value = c.value)" [value]=config.global.segment.padding.value type=range min=0 max=10 step=1 class=form-control></div>
    </div>
    <div class="form-group">
      <color [color]="config.global.segment.color.value" (refreshed)="refresh(config.global.segment.color.value = $event)" [title]="'Segment Color'"></color>
    </div>
    <div class="form-group row">
      <div class=col-xs-5>Widget Dimension Ratio: {{graph.widgetRatio}}</div>
      <div class=col-xs-7>
        <input #f (input)="refresh(graph.widgetRatio = f.value)" [value]=graph.widgetRatio type=range min=".1" max=5 step=".2" class=form-control>
      </div>
    </div>
  </div>
</div>


<div class="panel panel-default">
  <div class="panel-heading" (click)="showDaylightMenu= !showDaylightMenu">
    <span [class.down]="!showDaylightMenu" [class.up]="showDaylightMenu"></span> Daylight Settings
  </div>
  <div class="panel-body" [class.hide]="!showDaylightMenu">
    <div class="checkbox">
      <label>
        <input type=checkbox #dl (change)="refresh(config.daylight.show = dl.checked)" [checked]=config.daylight.show> Show?
      </label>
    </div>
    <color [color]="config.daylight.color" (refreshed)="refresh(config.daylight.color = $event)" [title]="'Daylight Color'" [showalpha]="false"></color>
  </div>
</div>


<div class="panel panel-default" *ngFor="#opt of config.options">
  <div class="panel-heading" (click)="opt.showMenu = !opt.showMenu">
    <span [class.down]="!opt.showMenu" [class.up]="opt.showMenu"></span> {{opt.title}}
  </div>
  <div class="panel-body" [class.hide]="!opt.showMenu">
    <div class="checkbox">
      <label>
        <input type=checkbox #v (change)="refresh(opt.show.global = v.checked)" [checked]=opt.show.global> Use global option visibility? {{config.global.show.value}}
      </label>
    </div>
    <div class="checkbox">
      <label>
        <input type=checkbox #g (change)="refresh(opt.show.value = g.checked)" [checked]=opt.show.value [disabled]=opt.show.global> Show?
      </label>
    </div>

    <div class="checkbox">
      <label>
        <input type=checkbox #i (change)="refresh(opt.dot.radius.global = i.checked)" [checked]=opt.dot.radius.global> Use global dot radius? {{config.global.dot.radius.value}}
      </label>
    </div>
    <div class="form-group row">
      <div class=col-xs-5>Dot Radius: {{opt.dot.radius.value}}</div>
      <div class=col-xs-7>
        <input #j (input)="refresh(opt.dot.radius.value = j.value)" [value]=opt.dot.radius.value [disabled]=opt.dot.radius.global type=range min=1 max=20 step=1 class=form-control>
      </div>
    </div>
    <div class="checkbox">
      <label>
        <input type=checkbox #k (change)="refresh(opt.dot.color.global = k.checked)" [checked]=opt.dot.color.global> Use global dot color? {{config.global.dot.color.value.rgba}}
      </label>
    </div>
    <div class=form-group>
      <color [color]="opt.dot.color.value" (refreshed)="refresh(opt.dot.color.value = $event)" [title]="'Dot Color'" [disabled]=opt.dot.color.global></color>
    </div>

    <div class="checkbox">
      <label>
        <input type=checkbox #s (change)="refresh(opt.segment.show.global = s.checked)" [checked]=opt.segment.show.global> Use global segment visibility? {{config.global.segment.show.value}}
      </label>
    </div>
    <div class="checkbox">
      <label>
        <input type=checkbox #t (change)="refresh(opt.segment.show.value = t.checked)" [checked]=opt.segment.show.value [disabled]=opt.segment.show.global> Show?
      </label>
    </div>

    <div class="checkbox">
      <label>
        <input type=checkbox #q (change)="refresh(opt.segment.angle.global = q.checked)" [checked]=opt.segment.angle.global> Use global angle? {{config.global.segment.angle.value}}
      </label>
    </div>
    <div class="form-group row">
      <div class=col-xs-5>Segment Width Angle: {{opt.segment.angle.value}}</div>
      <div class=col-xs-7>
        <input #r (input)="refresh(opt.segment.angle.value = r.value)" [value]=opt.segment.angle.value [disabled]=opt.segment.angle.global type=range min=1 max=90 step=1 class=form-control>
      </div>
    </div>

    <div class="checkbox">
      <label>
        <input type=checkbox #m (change)="refresh(opt.segment.padding.global = m.checked)" [checked]=opt.segment.padding.global> Use global padding? {{config.global.segment.padding.value}}
      </label>
    </div>
    <div class="form-group row">
      <div class=col-xs-5>Segment Padding: {{opt.segment.padding.value}}</div>
      <div class=col-xs-7>
        <input #n (input)="refresh(opt.segment.padding.value = n.value)" [value]=opt.segment.padding.value [disabled]=opt.segment.padding.global type=range min=1 max=10 step=1 class=form-control>
      </div>
    </div>

    <div class="checkbox">
      <label>
        <input type=checkbox #o (change)="refresh(opt.segment.color.global = o.checked)" [checked]=opt.segment.color.global> Use global segment color? {{config.global.segment.color.value.rgba}}
      </label>
    </div>
    <div class=form-group>
      <color [color]="opt.segment.color.value" (refreshed)="refresh(opt.segment.color.value = $event)" [title]="'Segment Color'" [disabled]=opt.segment.color.global></color>
    </div>
  </div>
</div>
